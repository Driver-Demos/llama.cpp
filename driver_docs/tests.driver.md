
## Files
- **[.gitignore](tests/.gitignore.driver.md)**: The `.gitignore` file in `llama.cpp/tests/` specifies patterns to ignore all files except those with extensions, while still ignoring object files and including `ggml-common.h`.
- **[CMakeLists.txt](tests/CMakeLists.txt.driver.md)**: The `CMakeLists.txt` file in the `llama.cpp/tests` directory defines functions and configurations for building and testing various components of the `llama.cpp` project, including setting up test targets, linking libraries, and specifying test arguments and labels.
- **[get-model.cpp](tests/get-model.cpp.driver.md)**: The `get-model.cpp` file contains a function that retrieves a model file path from command line arguments or an environment variable, and exits with a warning if neither is provided.
- **[get-model.h](tests/get-model.h.driver.md)**: The `get-model.h` file declares a function `get_model_or_exit` that takes command-line arguments and returns a character pointer, presumably to retrieve a model or terminate the program.
- **[run-json-schema-to-grammar.mjs](tests/run-json-schema-to-grammar.mjs.driver.md)**: The `run-json-schema-to-grammar.mjs` file is a script that reads a JSON schema file, resolves its references, and converts it into a grammar format using the `SchemaConverter` class.
- **[test-arg-parser.cpp](tests/test-arg-parser.cpp.driver.md)**: The `test-arg-parser.cpp` file in the `llama.cpp` codebase contains tests to ensure that argument parsing functions correctly handle duplicate arguments, invalid and valid usage scenarios, environment variable settings, and curl-related functions.
- **[test-autorelease.cpp](tests/test-autorelease.cpp.driver.md)**: The `test-autorelease.cpp` file in the `llama.cpp` codebase tests the creation and clean exit of a new context within a pthread using the Llama model.
- **[test-backend-ops.cpp](tests/test-backend-ops.cpp.driver.md)**: The `test-backend-ops.cpp` file defines and executes tests for various GGML operations and backends, ensuring consistency in results across different backends for both forward and backward passes, and optionally checking performance metrics.
- **[test-barrier.cpp](tests/test-barrier.cpp.driver.md)**: The `test-barrier.cpp` file in the `llama.cpp` codebase is a test program that evaluates the performance of parallel graph computations using a thread pool, with configurable numbers of threads and computation rounds.
- **[test-c.c](tests/test-c.c.driver.md)**: The `test-c.c` file in the `llama.cpp` codebase includes the `llama.h` header and conditionally includes `ggml-kompute.h` if `GGML_USE_KOMPUTE` is defined, with an empty `main` function.
- **[test-chat-parser.cpp](tests/test-chat-parser.cpp.driver.md)**: The `test-chat-parser.cpp` file in the `llama.cpp` codebase contains tests for chat handling, including grammar generation, parsing for tool calling, and JSON handling, and also serves as a command-line interface to generate a Markdown summary of Jinja template formats.
- **[test-chat-template.cpp](tests/test-chat-template.cpp.driver.md)**: The `test-chat-template.cpp` file in the `llama.cpp` codebase contains tests for various chat templates, verifying their formatting and output against expected results using a set of predefined test cases and conversation data.
- **[test-chat.cpp](tests/test-chat.cpp.driver.md)**: The `test-chat.cpp` file in the `llama.cpp` codebase tests chat handling, including grammar generation and parsing for tool calling, and also serves as a CLI to generate a Markdown summary of Jinja template formats.
- **[test-double-float.cpp](tests/test-double-float.cpp.driver.md)**: The `test-double-float.cpp` file contains tests to verify that converting double to float in various functions from `ggml.c` does not affect the results by checking all finite float values.
- **[test-gbnf-validator.cpp](tests/test-gbnf-validator.cpp.driver.md)**: The `test-gbnf-validator.cpp` file in the `llama.cpp` codebase is a test program that validates an input string against a specified GBNF grammar, reporting errors if the input does not conform to the grammar.
- **[test-gguf.cpp](tests/test-gguf.cpp.driver.md)**: The `test-gguf.cpp` file in the `llama.cpp` codebase contains a comprehensive suite of tests for validating the functionality of GGUF file handling, including tests for file creation, key-value management, tensor data integrity, and round-trip consistency across different backends.
- **[test-grammar-integration.cpp](tests/test-grammar-integration.cpp.driver.md)**: The `test-grammar-integration.cpp` file in the `llama.cpp` codebase contains a suite of integration tests for validating grammar parsing and JSON schema conversion, including tests for simple and complex grammars, special characters, quantifiers, and error handling scenarios.
- **[test-grammar-llguidance.cpp](tests/test-grammar-llguidance.cpp.driver.md)**: The `test-grammar-llguidance.cpp` file in the `llama.cpp` codebase contains integration tests for grammar and schema validation using the `llguidance` library, including tests for simple and complex grammars, special characters, quantifiers, JSON schemas, and a sampler chain.
- **[test-grammar-parser.cpp](tests/test-grammar-parser.cpp.driver.md)**: The `test-grammar-parser.cpp` file in the `llama.cpp` codebase contains unit tests for verifying the functionality of a grammar parser, including tests for successful parsing and expected failures.
- **[test-json-partial.cpp](tests/test-json-partial.cpp.driver.md)**: The `test-json-partial.cpp` file in the `llama.cpp` codebase contains unit tests for the JSON parsing and healing functionality, ensuring that partial JSON inputs are correctly handled and healed when possible.
- **[test-json-schema-to-grammar.cpp](tests/test-json-schema-to-grammar.cpp.driver.md)**: The `test-json-schema-to-grammar.cpp` file in the `llama.cpp` codebase contains a suite of tests for verifying the conversion of JSON schemas to grammar representations, supporting multiple languages including C++, Python, and JavaScript.
- **[test-llama-grammar.cpp](tests/test-llama-grammar.cpp.driver.md)**: The `test-llama-grammar.cpp` file in the `llama.cpp` codebase is a test suite that verifies the functionality of the `llama_grammar` parser by checking the correctness of grammar rules, stacks, and candidate rejections.
- **[test-log.cpp](tests/test-log.cpp.driver.md)**: The `test-log.cpp` file in the `llama.cpp` codebase tests the logging functionality by creating multiple threads that generate random log messages of different types.
- **[test-lora-conversion-inference.sh](tests/test-lora-conversion-inference.sh.driver.md)**: The `test-lora-conversion-inference.sh` file is a Bash script that tests the conversion and inference of LoRA models by cloning a specific repository, running conversion scripts, performing inference, and verifying the outputs against expected results.
- **[test-model-load-cancel.cpp](tests/test-model-load-cancel.cpp.driver.md)**: The `test-model-load-cancel.cpp` file tests the loading of a model in the `llama.cpp` codebase, specifically verifying the cancellation of the load process if progress exceeds 50%.
- **[test-mtmd-c-api.c](tests/test-mtmd-c-api.c.driver.md)**: The `test-mtmd-c-api.c` file is a test program for the `libmtmd` C API, which verifies the creation and processing of input chunks, including text and image types, within the `llama.cpp` codebase.
- **[test-opt.cpp](tests/test-opt.cpp.driver.md)**: The `test-opt.cpp` file in the `llama.cpp` codebase contains a suite of tests for optimization functionalities, including dataset handling, gradient computation, forward-backward passes, and regression testing, across different backend devices.
- **[test-quantize-fns.cpp](tests/test-quantize-fns.cpp.driver.md)**: The `test-quantize-fns.cpp` file contains unit tests for quantization functions, specifically testing the quantize, dequantize, and dot product operations for various data types.
- **[test-quantize-perf.cpp](tests/test-quantize-perf.cpp.driver.md)**: The `test-quantize-perf.cpp` file in the `llama.cpp` codebase benchmarks quantization-specific functions on synthetic data, providing performance metrics for various quantization operations.
- **[test-quantize-stats.cpp](tests/test-quantize-stats.cpp.driver.md)**: The `test-quantize-stats.cpp` file in the `llama.cpp` codebase is a test program that evaluates the quantization error statistics of a machine learning model, providing options for layer inclusion/exclusion, verbosity, and error histogram printing.
- **[test-regex-partial.cpp](tests/test-regex-partial.cpp.driver.md)**: The `test-regex-partial.cpp` file in the `llama.cpp` codebase contains unit tests for the `common_regex` functionality, specifically focusing on its support for partial final matches.
- **[test-rope.cpp](tests/test-rope.cpp.driver.md)**: The `test-rope.cpp` file in the `llama.cpp` codebase is a test suite for verifying the functionality of the rope position embedding operations in the GGML library, including standard, GPT-NeoX, GLM, and multi-dimension modes.
- **[test-sampling.cpp](tests/test-sampling.cpp.driver.md)**: The `test-sampling.cpp` file in the `llama.cpp` codebase contains a series of tests and benchmarks for various sampling strategies used in the `llama` library, including temperature, top-k, top-p, and other sampling methods, to ensure their correct implementation and performance.
- **[test-tokenizer-0.cpp](tests/test-tokenizer-0.cpp.driver.md)**: The `test-tokenizer-0.cpp` file in the `llama.cpp` codebase is a test program for validating the tokenization process of the Llama model, including reading input and output test files, performing multi-threaded tokenization, and comparing the results against expected tokens.
- **[test-tokenizer-0.py](tests/test-tokenizer-0.py.driver.md)**: The `test-tokenizer-0.py` file in the `llama.cpp` codebase is a script that uses the `transformers` library to tokenize a text file using a specified tokenizer model and writes the tokenized output to a new file.
- **[test-tokenizer-0.sh](tests/test-tokenizer-0.sh.driver.md)**: The `test-tokenizer-0.sh` file is a shell script used to test and compare the tokenization of input data using both Python's AutoTokenizer and a C++ tokenizer from the `llama.cpp` project.
- **[test-tokenizer-1-bpe.cpp](tests/test-tokenizer-1-bpe.cpp.driver.md)**: The `test-tokenizer-1-bpe.cpp` file in the `llama.cpp` codebase is a test program that verifies the functionality of a Byte Pair Encoding (BPE) tokenizer by loading a vocabulary file, optionally ignoring merges, and checking the consistency of tokenization and detokenization processes.
- **[test-tokenizer-1-spm.cpp](tests/test-tokenizer-1-spm.cpp.driver.md)**: The `test-tokenizer-1-spm.cpp` file in the `llama.cpp` codebase is a test program that verifies the correct loading and tokenization of a vocabulary file using the SentencePiece Model (SPM) in a multithreaded environment.
- **[test-tokenizer-random.py](tests/test-tokenizer-random.py.driver.md)**: The `test-tokenizer-random.py` file in the `llama.cpp` codebase is a script designed to test the `libllama` tokenizer against the `AutoTokenizer` by generating random words and text, and comparing their tokenization and detokenization results.
